define(["app","config"],function(e,t){e.run(["$rootScope","$location","$timeout","Storage","$window","User","Session","Core","$http",function(e,n,r,i,s,o,u,a,f){e.config=t,e.redirectToProfile=function(){e.$emit("setView","profile")},e.changeLanguage=function(n){e.ui=t.ui[n]},e.ui=t.ui[e.config.lang],e.app=e.app||{},angular.fromJson(i.cookie.get("session"))&&(f.defaults.headers.common["X-SESSION_ID"]=angular.fromJson(i.cookie.get("session")).id),e.app.resources||(e.app.resources=angular.fromJson(i.get("resources")),u.check()),n.path()!=="/login"&&a.factory.process(),e.profileEdited={status:!1,result:!1},e.statusBar={init:function(){e.loading={status:!1,message:"Loading.."}},display:function(t){e.loading={status:!0,message:t}},off:function(){e.loading.status=!1}},e.statusBar.init(),e.$on("$routeChangeStart",function(){e.statusBar.display("Loading.."),e.location=n.path().substring(1),$("div[ng-view]").hide()}),e.$on("$routeChangeSuccess",function(){e.newLocation=n.path(),e.loadingBig=!1,e.statusBar.off(),$("div[ng-view]").show()}),e.$on("$routeChangeError",function(t,n,r,i){e.notifier.error(i)}),e.fixStyles=function(){var e=$(".tabs-left .nav-tabs").height();$.each($(".tab-content").children(),function(){var t=$(this).attr("id"),n=$(".tabs-left .tab-content #"+t).height();e>n&&$(".tabs-left .tab-content #"+t).css({height:$(".tabs-left .nav-tabs").height()+6})})}}])});