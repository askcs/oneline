define(["controllers/controllers"],function(e){e.controller("reporter",["$rootScope","$scope","Core","Storage",function(e,t,n,r){e.fixStyles(),t.logs=[],t.logs={local:function(){return n.connections.local()},list:function(){e.statusBar.display("Getting the list of recent calls.."),t.logsLoading=!0,n.logs.list().then(function(n){e.statusBar.off(),t.logsLoading=!1,t.logsList=n})},block:function(t){e.statusBar.display("Adding a blacklisted number.."),n.blacklists.save({contactInfo:t.address,label:"From Logs"}).then(function(t){e.statusBar.off();var i=angular.fromJson(r.get("connections"));i.push(t),r.add("connections",angular.toJson(i));var s=angular.fromJson(r.get("groups"));angular.forEach(s,function(n){n.id===e.data.blacklist.group.id&&n.contactInfoIds.push(t.id)}),r.add("groups",angular.toJson(s)),n.factory.process(),e.$broadcast("setView","guarder")})}},t.logs.list()}])});